#{extends 'main.html' /}
#{set title:'Listar Candidatos' /}

<div class="card mb-3">
 <div class="card-header">
   <i class="fa fa-table"></i>Listagem de Candidatos</div>
 <div class="card-body">
     <table class="table dataTable" id="dataTable">
       <thead>
         <th rowspan="1" colspan="1">#Numero</th>
         <th rowspan="1" colspan="1">Foto</th>
         <th rowspan="1" colspan="1">Nome</th>
         <th rowspan="1" colspan="1">Zona</th>
         <th rowspan="1" colspan="1">Cargo</th>
         <th>Ações</th>
       </thead>
       <tbody>
	#{list items:candidatos, as:'candidato'}
        <tr role="row">
            <td>${candidato.numero}</td>
            <td>
                #{if candidato?.foto?.exists()}
                    <img height="50" src="@{api.fotoCandidato(candidato.id)}" id="img" accept="image/*" class="img-responsive" class="img-thumbnail" >
                #{/if}
                #{else}
                    <img height="50" src="/public/images/fotoPadrao.jpg" id="img" accept="image/*"  class="img-responsive" class="img-thumbnail" >
                #{/else}
            </td>
           <td>
                ${candidato.nome}<br/>
                ${candidato.vice}
           </td>
           <td>
               ${candidato?.zona}
           </td>
           <td>${candidato.idCargo}</td>           
           <td>
                <a href="@{Candidatos.detalhes_candidato(candidato.id)}">
                    <button class="btn btn-sm btn-info">
                        <i class="fa fa-user">Detalhes</i>
                    </button>
                </a>
                    
                <a href="@{Candidatos.editar_candidato(candidato.id)}">
                    <button class="btn btn-sm btn-success">
                        <i class="fa fa-edit">Editar</i>
                    </button>
                </a>
           </td>
         </tr>
	#{/list}
	</tbody>
    </table>
  </div>
</div>
